name: Deploy medical app to azure 

on:
  push:
    branches:
      -main #my branch deployment

env:
  AZURE_WEBAPP_NAME: health-care
  AZURE_WEBAPP_PACKAGE_PATH: "./build"
jobs:
  build-and-deploy
    runs-on: windows-latest
steps:
  -name: checkout code
  uses: actions/checkout@v1

  -name: set up Node.js
  uses: actions/setup-node@v1
  with:
    node-version: '20' 

  -name: install dependancies
    run: npm install

  -name: build madical app
    run: npm run build

  -name: Deploy to azure web app
    uses: azure/webapps-deploy@v1
    with:
      app-name: ${{env.AZURE_WEBAPP_NAME}}
        publish-profile:${{secrets.HEALTHCARE}}
        package: "${{env.AZURE_WEBAPP_PACKAGE_PATH}}"
      
